# DeepSeek Embedding å‡çº§è¯´æ˜

## ğŸ¯ å‡çº§å†…å®¹

å°†åŸæœ‰çš„ TF-IDF å…³é”®è¯æ£€ç´¢å‡çº§ä¸º **DeepSeek Embedding è¯­ä¹‰æ£€ç´¢**ï¼Œå¤§å¹…æå‡é—®ç­”è´¨é‡ã€‚

## ğŸ“ æ–°å¢æ–‡ä»¶

- `src/deepseek_retriever.py` - DeepSeek Embedding æ£€ç´¢å™¨
- `build_embedding_index.py` - æ„å»ºå‘é‡ç´¢å¼•è„šæœ¬

## ğŸ“ ä¿®æ”¹æ–‡ä»¶

- `src/expert_ai_v2.py` - é›†æˆè¯­ä¹‰æ£€ç´¢
- `requirements.txt` - æ·»åŠ  tiktoken ä¾èµ–

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

ä»£ç å·²æäº¤åˆ° GitHubï¼ŒStreamlit Cloud ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ã€‚

### 2. æ„å»ºè¯­ä¹‰ç´¢å¼•ï¼ˆå¿…é¡»ï¼‰

åœ¨ Streamlit Cloud çš„ Advanced Settings ä¸­æ·»åŠ æ„å»ºå‘½ä»¤ï¼š

```bash
# åœ¨ Streamlit Cloud æ§åˆ¶å°æ‰§è¡Œ
python build_embedding_index.py
```

æˆ–åœ¨æœ¬åœ°æ„å»ºåä¸Šä¼ ï¼š

```bash
# æœ¬åœ°æ„å»º
python build_embedding_index.py --max 1000  # æµ‹è¯•ç”¨ï¼Œå¤„ç†å‰1000æ®µ

# æˆ–å®Œæ•´æ„å»ºï¼ˆè€—æ—¶è¾ƒé•¿ï¼‰
python build_embedding_index.py
```

### 3. é…ç½®ç´¢å¼•è·¯å¾„

ç¡®ä¿ `expert_ai_v2.py` ä¸­ç´¢å¼•è·¯å¾„æ­£ç¡®ï¼š

```python
ai.load_semantic_index(Path("data/embedding_index"))
```

## ğŸ” æ£€ç´¢æ–¹å¼å¯¹æ¯”

| ç‰¹æ€§ | TF-IDF (æ—§) | DeepSeek Embedding (æ–°) |
|------|-------------|------------------------|
| åŒ¹é…æ–¹å¼ | å…³é”®è¯åŒ¹é… | è¯­ä¹‰ç†è§£ |
| åŒä¹‰è¯å¤„ç† | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| è¯­ä¹‰å…³è” | âŒ æ—  | âœ… å¼º |
| å‡†ç¡®æ€§ | ä½ | é«˜ |
| é€Ÿåº¦ | å¿« | è¾ƒå¿«ï¼ˆAPIè°ƒç”¨ï¼‰ |

## ğŸ’¡ ä½¿ç”¨æ–¹å¼

```python
from src.expert_ai_v2 import ExpertAIV2

# åˆ›å»º AIï¼ˆè‡ªåŠ¨ä½¿ç”¨è¯­ä¹‰æ£€ç´¢ï¼‰
ai = ExpertAIV2(
    knowledge_base_path=Path("data"),
    use_semantic=True
)

# åŠ è½½è¯­ä¹‰ç´¢å¼•
ai.load_semantic_index(Path("data/embedding_index"))

# æé—®
result = ai.answer("å¾å‡¤å¹´ä¸ºä»€ä¹ˆè¦æ€éŸ©è²‚å¯ºï¼Ÿ")
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API è´¹ç”¨**ï¼šEmbedding è°ƒç”¨ä¼šäº§ç”Ÿè´¹ç”¨ï¼Œä½†æ¯”ç”Ÿæˆä¾¿å®œå¾ˆå¤š
2. **æ„å»ºæ—¶é—´**ï¼šå…¨æ–‡ç´¢å¼•å¯èƒ½éœ€è¦ 10-30 åˆ†é’Ÿï¼ˆå–å†³äºæ®µè½æ•°é‡ï¼‰
3. **ç´¢å¼•å¤§å°**ï¼šå‘é‡æ–‡ä»¶çº¦ 100MB-1GBï¼ˆå–å†³äºæ®µè½æ•°é‡ï¼‰
4. **å›é€€æœºåˆ¶**ï¼šè¯­ä¹‰æ£€ç´¢å¤±è´¥æ—¶ä¼šè‡ªåŠ¨å›é€€åˆ°å…³é”®è¯æ£€ç´¢

## ğŸ‰ æ•ˆæœæå‡

- åŒä¹‰è¯é—®é¢˜ï¼šæŸ¥è¯¢"ä¸–å­"èƒ½åŒ¹é…"å¾å‡¤å¹´"
- è¯­ä¹‰ç†è§£ï¼šæŸ¥è¯¢åŠ¨æœºèƒ½æ‰¾åˆ°ç›¸å…³å› æœæ®µè½
- å›ç­”è´¨é‡ï¼šæ›´å‡†ç¡®ã€æ›´è´´è¿‘åŸæ–‡
